---
title: 记录一次性能测试
author: 菠萝
email: 2493381254@qq.com
readmore: true
hideTime: true
categories: 测试
tag: 测试
date: 2023-11-04 16:04:41
abbrlink: 18788
---
> - 吞吐量：每秒钟系统能够处理的请求数、任务数。
> - 响应时间：服务处理一个请求或一个任务的耗时。
> - 错误率：一批请求中结果出错的请求所占比例。

<!-- more -->

## 性能需求分析

**项目业务**： 注册，登录，视频上传，视频搜索

**需要压测的业务：** 核心，用户量，与外部接口对接

**分析：** 需要压测的业务  -----> 登录，视频搜索，视频上传

**性能指标：**

**非硬件：** 50%line < 1s 90%line < 1 s,TPS, 事务成功率100%（响应时间几十毫秒到几百毫秒）

**硬件：** CPU 内存 <= 70%

## 性能方案设计

**7大场景:**

单业务基准测试、单业务压力测试，单业务负载测试|综合业务基准测试，综合业务压力测试，综合业务负载测试，综合业务稳定性测试

单业务： 登录

基准：30min 2w登录

经过分析：

性能场景：

1s启动所有线程，压测5min，观察性能指标

**登录测试:**

1s内启动，20个线程组，持续300s

![1704600219252](系统测试/1704600219252.png)

## docker内存使用情况图形化

~~~shell
docker run --volume=/:/rootfs:ro --volume=/var/run:/var/run:rw --volume=/sys:/sys:ro --volume=/var/lib/docker/:/var/lib/docker:ro --volume=/dev/disk/:/dev/disk:ro --publish=8080:8080 --detach=true --name=cadvisor --privileged --device=/dev/kmsg lagoudocker/cadvisor:v0.37.0

~~~

## 业务建模 脚本优化

## 执行测试 手机性能数据

## 结果分析 性能测试报告

![1704811139411](系统测试/1704811139411.png)

![1704810863213](系统测试/1704810863213.png)

![1704810934271](系统测试/1704810934271.png)

![1704810957925](系统测试/1704810957925.png)

**APP:**

![1704810984391](系统测试/1704810984391.png)

![1704810991788](系统测试/1704810991788.png)

![1704811001874](系统测试/1704811001874.png)

**mysql**

![1704811044004](系统测试/1704811044004.png)

![1704811054831](系统测试/1704811054831.png)

![1704811060584](系统测试/1704811060584.png)

![1704811072571](系统测试/1704811072571.png)

### 登录接口

**第一次测试：**

![1704811670771](系统测试/1704811670771.png)

![1704811697884](系统测试/1704811697884.png)

![1704811710450](系统测试/1704811710450.png)

APP

![1704811785643](系统测试/1704811785643.png)

**mysql**

![1704811829003](系统测试/1704811829003.png)

**第二次测试**

![1704813905750](系统测试/1704813905750.png)

![1704813947796](系统测试/1704813947796.png)

![1704814580852](系统测试/1704814580852.png)

APP

![1704813973826](系统测试/1704813973826.png)

mysql

![1704813998091](系统测试/1704813998091.png)
